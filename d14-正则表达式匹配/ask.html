<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
// var isMatch = function(s, p) {
//     if(s === p) return true;
//     let temp = p.split("");
//     const sLength = s.length;
//     for (let index = 0; index < temp.length; ) {
//       console.log(index, temp);
//       let t = temp[index];
//       if(index === sLength && temp[index] === "*" && index === temp.length - 1){
//         return true
//       }
//       if(temp[index] !== s[index] && s[index]){
//         if(t === "."){
//         }else if(t === "*"){
//           if(temp[index - 1] && (temp[index - 1] === s[index] || temp[index - 1] === ".")){
//             temp.splice(index, 1, temp[index - 1],t);
//           }else if(temp[index + 1] && (temp[index + 1] === s[index] || temp[index + 1] === ".")){
//             // 如果当前的值是*,但是*的下一位和原字符串中对应位置的字符相等,删掉*
//             temp.splice(index, 1);
//             continue;
//           }else{
//             return false;
//           }
//           // isMatch("aab","c*a*b")
//         }else if(temp[index+1] && temp[index+1] === "*"){
//           temp.splice(index, 2);
//         }else{
//           return false;
//         }
//       }
//       index++;
//     }
//     if(temp.length !== sLength) return false;
//     return true;
// };
// // ab => .*
// // console.log(isMatch("mississippi","mis*is*p*."))
// // console.log(isMatch("aa","a"))
// console.log(isMatch("aaa","a*a"))
// // console.log(isMatch("ab",".*c"))
var isMatch = function(s, p) {
  if(p.length === 0) return s.length === 0;
  let fm = (s.length!==0 && (s.charAt(0) === p.charAt(0) || p.charAt(0) === '.'));
  if(p.length>=2 && p.charAt(1) === "*"){
    // 1.对照"aa"和"a*aa".尾串相等
    // 2.对照"aa"和"a*".第一个位置的数对比相等且移动s串也相等
    // 在每次递归的过程中只要有一个为true,整个比对结果就是true
    let res = (isMatch(s, p.substr(2)) || (fm && isMatch(s.substr(1), p)))
    return res;
  }else{
    let res = fm && isMatch(s.substr(1), p.substr(1));
    return res
  }
}
// "mississippi"
// "mis*is*ip*."
console.log(isMatch("ssissippi","s*is*ip*."))
</script>
</html>